# Cloudflare Tunnel Deployment
# Run: docker compose -f cloudflared-compose.yml up -d

services:
  cloudflared:
    image: cloudflare/cloudflared:latest
    container_name: cloudflared
    command: >
      tunnel --no-autoupdate
      --protocol h2
      --metrics 0.0.0.0:3000
      --ingress --
        - hostname: fortezza.colechiodo.cc
          service: http://traefik:80
    ports:
      - "3000:3000"
    restart: unless-stopped
    environment:
      - TUNNEL_NAME=fortezza
